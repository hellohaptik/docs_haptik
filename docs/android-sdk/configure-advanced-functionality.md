---
title: Advanced Functionality 
---

<AUTOGENERATED_TABLE_OF_CONTENTS>

<a name="offline-behavior"></a>

## 1. Offline Behaviour

All offline behavior will be handled by the Haptik SDK, such as Message Delivery, QoS(Quality of Service) and MQTT Reconnection etc.

<a name="analytics"></a>

## 2. Analytics

We provide `AnalyticsCallback` class which has various methods which gets triggered on various scenarios.

One important method is `logEvent(String, Map<String, Object>)`. This method gets called on every analytics event which gets triggered from SDK.

<a name="message-event-listener"></a>

## 3. MessagingEventListener

Messaging Event listener enables client app to listen to events that occur on the Messaging screen. This can be implemented as follows

```java
// Make sure Haptik SDK is initialized before calling this method
MessagingClient.getInstance().setMessagingEventListener(new MessagingEventListener() {
    @Override
    public void onUnreadMessageCountChanged(int unreadMessageCount) {
        // Update the unread message count
    }
});
```

1. onUnreadMessageCountChanged(int unreadMessageCount)

This method returns the number of unread messages for a client in the Haptik SDK. A typical use case for this method is to display the unread count on the icon which
launches the Haptik SDK in the client app.

```java
// Method which gets fired when count of unread messages changes, if you want to provide an unread count badge UI somewhere in your application
void onUnreadMessageCountChanged(int unreadMessageCount);
```

<a name="sending-message-programmatically"></a>

## 4. Sending Message Programmatically

// Using this method, you can send a message from user side programmatically without even going into messaging UI.

```java
sendMessage(String message, String businessViaName)
```

<a name="share-functionality"></a>

## 5. Share Functionality

SDK provides inbuilt share functionality where user share the app with others via social media apps or any other medium through a custom BottomSheet Layout.

When user shares something, a custom content message gets shared.

Client can override this message with their own custom content along with their deeplink URL

To override the default message, add two string resources exactly named as,

```xml
<string name="haptik_share_text">[Your custom Message>]. Check out this great app %s</string>
<string name="haptik_share_link">[Your Share Link]</string>
```