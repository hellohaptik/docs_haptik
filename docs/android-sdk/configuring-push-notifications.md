---
title: Push Notifications
---

<AUTOGENERATED_TABLE_OF_CONTENTS>

<a name="configuring-haptik-push-notifications"></a>

## 1. Checklist

1. Make sure you have the FCM device token.
2. Make sure notifications for your app are successfully received and displayed.

<a name="pushnotifications-additions-to-init-data"></a>

## 2. InitData Changes

- Enable Haptik push notifications in the InitData configuration for
  Haptik SDK.
- The InitData for Haptik will now look as follows:

<!--DOCUSAURUS_CODE_TABS-->
<!--Java-->

```java
new InitData.Builder(application)
            .baseUrl(BASE_URL)
            .debugEnabled(BuildConfig.DEBUG)
            .notificationSound(R.raw.notification_sound)
            .build();
```

<!--END_DOCUSAURUS_CODE_TABS-->

1. notificationSound: You can use this to customize the sound that will be played when the user receives a Haptik notification

<a name="pushnotifications-configure-fcm-gcm"></a>

## 3. Configure FCM

**FCM**

Token Registration: Set the Device Token on the Haptik Library

<!--DOCUSAURUS_CODE_TABS-->
<!--Java-->

```java
// For FCM use
HaptikLib.setFcmDeviceToken(this, refreshedToken);
```

<!--END_DOCUSAURUS_CODE_TABS-->

Changes to FCM service that extends `FirebaseMessagingService`

<!--DOCUSAURUS_CODE_TABS-->
<!--Java-->

```java
    final Map<String, String> data = remoteMessage.getData();
    if (HaptikNotificationManager.isHaptikNotification(data)) {
        if (!HaptikLib.isInitialized()) {
            Handler mainHandler = new Handler(getApplicationContext().getMainLooper());
            mainHandler.post(new Runnable() {
                @Override
                public void run() {
                    HaptikLib.init(Utils.getHaptikInitData(getApplication()));
                    HaptikNotificationManager.handleNotification(getApplicationContext(), data);
                }
            });
        } else {
            HaptikNotificationManager.handleNotification(getApplicationContext(), data);
        }
    }
```

<!--END_DOCUSAURUS_CODE_TABS-->

- **NOTE: On receiving push notifications**

  - `HaptikLib.init()` must be called if it’s not initialized already before handing the FCM payload to the Haptik’s Notification Manager