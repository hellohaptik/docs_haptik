---
title: Troubleshooting
---

<AUTOGENERATED_TABLE_OF_CONTENTS>

**1. How do I go from Staging Environment to Production Environment?**
- Set

<!--DOCUSAURUS_CODE_TABS-->
<!--Java-->

```java
HaptikLib.setRunEnvironment(HaptikLib.RUN_ENVIRONMENT_PRODUCTION);
```

<!--END_DOCUSAURUS_CODE_TABS-->
- Change the base url in the InitData to production base url

To your AndroidManifest.xml file

**3. What should be the value for `ai.haptik.places.sdk.api.key`?**
- If your application uses `com.google.android.geo.API_KEY`, pass the
  same value for the above key
- If your application does not use the `com.google.android.geo.API_KEY`,
  pass any non-empty value, for eg "Hello World". PLEASE DO NOT KEEP IT
  EMPTY

**4. Why does Haptik require FCM Server key?**
- To send messages to the user via notifications, Haptik backend
  requires FCM server key

**5. Why Haptik send notifications?**
- If a user leaves the application while chatting with an IVA, and the
  IVA responds, Haptik delivers the message sent via notifications.

**6. When will Haptik SDK display notifications to the users?**
- Notifications are displayed if the user was chatting with an IVA, but
  now has done one of the following things

  1. Is in the app but has exited the chat screen
  2. Has put the app in background
  3. Has killed the app

**7. App is not receiving notifications from Haptik backend?**
- Please make sure you have provided the correct FCM server key to
  Haptik when filling the
  [pre-requisites form](https://docs.google.com/forms/d/e/1FAIpQLSfxdgMXYQ1hR4PWO54wXzWZhkB4c_21ypTPCSpfEwhEcznwPA/viewform)
- Make sure you have followed all the steps [here](https://hellohaptik.github.io/haptik-android-lib/configuring-push-notifications)

**8. App was receiving notifications in Staging Environment but is not
receiving notifications in Prod Environment**
- Please check if FCM server key for Production Environment and Staging
  Environment is different.
- In this case, please provide respective FCM Server keys to Haptik

**9. Haptik SDK says "Service Unavailable"?**
- In case you launching the channel directly
  - Check if the method `signUpAndLaunchChannel()` is being called after
    the check `HaptikLib.isUserLoggedIn()` returns `false`

- In case you are performing a manual sign up
  - Check if you are performing `HaptikLib.performInitialDataSync()`
  - On the success of the above method launch channel or inbox

**10. Haptik SDK crashed when using `haptik-glide-helper`**
- This usually happens if there is a version mismatch for glide being
  used in your app versus version used by Haptik.
- Report the issue to Haptik
- Please use `haptik-picasso-helper` in the mean while

**11. Not able to see the message that I am sending on the RHS of the
chat on Athena**
- Please make sure you have called
  `Router.launchChannelWithCustomMessage()` and
  `Router.signUpAndLaunchChannelWithCustomMessage()` while launching the
  channel

**12. Is Haptik SDK androidx compatible?**
- Haptik SDK from version 5.7.0 and above use androidx

**13. Manifest Merger Error for meta-data when making a build**
- If your application is using GEO API KEY, please use the following snippet to solve the problem

```xml
<meta-data android:name="com.google.android.geo.API_KEY"
        android:value="YOUR GEO API KEY HERE"
        tools:replace="android:value"/>
```

**14. Haptik SDK Maps screen does not let me search/closes while searching location**
- Please check if you have entered the Places API Key as a part of Haptik SDKs meta-data.
- If not please enter the following code snippet in your AndroidManifest.xml file
```xml
<meta-data android:name="ai.haptik.places.sdk.api.key"
        android:value="YOUR GEO/PLACES API KEY HERE"
        tools:replace="android:value"/>
```
